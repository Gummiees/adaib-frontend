<div class="flex flex-col pt-2 gap-2 rounded-md shadow-sm bg-white border border-gray-200">
  <div class="flex justify-center items-center gap-4">
    <h5 class="text-2xl font-bold text-center">Resultados</h5>
    @if(!!userStore.user()) {
      <a mat-mini-fab aria-label="Añadir partido" matTooltip="Añadir partido" matTooltipPosition="above" tabindex="0" (click)="onAddMatchClicked()" (keyup)="onAddMatchClicked()" (keypress)="onAddMatchClicked()">
        <mat-icon>add</mat-icon>
      </a>
    }
    <a matButton="tonal" (click)="onMoreInfoClicked()" (keydown.enter)="onMoreInfoClicked()" (keydown.space)="onMoreInfoClicked()" tabindex="0" ariaLabel="Más información de este grupo">Más info</a>
  </div>
  @if(filteredMatches().length > 0) {
    @for (match of filteredMatches(); track match.id; let i = $index) {
      <app-match
        class="w-full flex justify-center border-b border-gray-300"
        [ngClass]="{'border-t': i === 0}"
        [match]="match"
        [compactView]="true"
        (matchTeamClicked)="onTeamClicked($event)">
      </app-match>
    }
  } @else {
    <app-not-found title="No hay partidos disponibles" subtitle="No hay partidos disponibles en esta jornada." [hideButton]="true"></app-not-found>
  }
  @if(roundsWithMatches().length > 0) {
    <div class="w-full flex items-center justify-center flex-wrap px-1 pt-2 pb-4 gap-1">
      @for (round of roundsWithMatches(); track round.id; let i = $index) {
          <app-round-button [text]="getRoundNumber(i)" [tooltip]="round.name" [isSelected]="isRoundSelected(round)" (clicked)="onRoundClick(round)"></app-round-button>
      }
      <app-round-button text="Todas" tooltip="Todas las jornadas" [dynamicSize]="true" [isSelected]="isRoundSelected('all')" (clicked)="onRoundClick('all')"></app-round-button>
    </div>
  }
</div>
